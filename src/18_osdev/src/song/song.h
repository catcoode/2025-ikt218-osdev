#ifndef SONG_H
#define SONG_H

#include "libc/string.h"
#include "frequencies.h"
#include "libc/system.h"

// Define a struct to represent a single musical note
typedef struct {
    uint32_t frequency; // The frequency of the note in Hz (e.g., A4 = 440 Hz)
    uint32_t duration;  // The duration of the note in milliseconds
} Note;

// Define a struct to represent a song
typedef struct {
    char* name;
    Note* notes;        // Pointer to an array of Note structs representing the song
    uint32_t length;    // The number of notes in the song
} Song;

// Define a struct to represent a song player
typedef struct {
    void (*play_song)(Song* song); // Function pointer to a function that plays a song
} SongPlayer;

// Function prototype for creating a new SongPlayer instance
// Returns a pointer to a newly created SongPlayer object
SongPlayer* create_song_player();
void play_song_impl(Song *song) ;

static Note music_1[] = {
    {E5, 100}, {R, 50}, {E5, 100}, {R, 150}, {E5, 100}, {R, 150},
    {C5, 100}, {E5, 100}, {G5, 100}, {R, 300}, {G4, 100}, {R, 300},

    {C5, 100}, {R, 150}, {G4, 100}, {R, 150}, {E4, 100}, {R, 150},
    {A4, 100}, {B4, 100}, {R, 100}, {As4, 100}, {A4, 100}, {R, 100},
    {G4, 75}, {E5, 75}, {G5, 75}, {A5, 100}, {F5, 75}, {G5, 100},
    {R, 100}, {E5, 100}, {C5, 75}, {D5, 75}, {B4, 100}, {R, 150},

    {C5, 100}, {R, 150}, {G4, 100}, {R, 150}, {E4, 100}, {R, 150},
    {A4, 100}, {B4, 100}, {R, 100}, {As4, 100}, {A4, 100}, {R, 100},
    {G4, 75}, {E5, 75}, {G5, 75}, {A5, 100}, {F5, 75}, {G5, 100},
    {R, 100}, {E5, 100}, {C5, 75}, {D5, 75}, {B4, 100}, {R, 150},
};

static Note music_wii_theme[] = {
    // F# - A-C# A - F# DDD
    {Fs4, 250}, {R, 100}, {A4, 250}, {R, 100}, {Cs5, 250}, {R, 100}, {A4, 250}, {R, 100}, 
    {Fs4, 250}, {R, 100}, {D4, 150}, {R, 50}, {D4, 150}, {R, 50}, {D4, 150}, {R, 150},
    
    // C# D - F# - A - C# A - F - E(high) - D# D
    {Cs4, 250}, {R, 100}, {D4, 250}, {R, 100}, {Fs4, 250}, {R, 100}, {A4, 250}, {R, 100}, 
    {Cs5, 250}, {R, 100}, {A4, 250}, {R, 100}, {F4, 250}, {R, 100}, {E5, 250}, {R, 100}, 
    {Ds5, 250}, {R, 100}, {D5, 250}, {R, 200},
    
    // G# - C# - F# - C# - G# - C# G - F# C# - CCC - CCC - D# - D
    {Gs4, 250}, {R, 100}, {Cs5, 250}, {R, 100}, {Fs5, 250}, {R, 100}, {Cs5, 250}, {R, 100}, 
    {Gs4, 250}, {R, 100}, {Cs5, 250}, {R, 100}, {G4, 250}, {R, 100}, {Fs4, 250}, {R, 100}, 
    {Cs4, 250}, {R, 150},
    {C4, 150}, {R, 50}, {C4, 150}, {R, 50}, {C4, 150}, {R, 200}, 
    {C4, 150}, {R, 50}, {C4, 150}, {R, 50}, {C4, 150}, {R, 150}, 
    {Ds4, 250}, {R, 100}, {D4, 250}, {R, 200},
    
    // C#(low) - A(high) - C# - A - F - EEE - EEE(high)
    {Cs4, 250}, {R, 100}, {A5, 250}, {R, 100}, {Cs5, 250}, {R, 100}, {A4, 250}, {R, 100}, 
    {F4, 250}, {R, 150},
    {E4, 150}, {R, 50}, {E4, 150}, {R, 50}, {E4, 150}, {R, 200}, 
    {E5, 150}, {R, 50}, {E5, 150}, {R, 50}, {E5, 150}, {R, 200},
    
    // F# - A -C# - A - F# - C# -- B
    {Fs4, 250}, {R, 100}, {A4, 250}, {R, 100}, {Cs5, 250}, {R, 100}, {A4, 250}, {R, 100}, 
    {Fs4, 250}, {R, 100}, {Cs4, 400}, {R, 150}, {B3, 400}, {R, 200},
    
    // B-G- D-C#
    {B3, 250}, {R, 100}, {G4, 250}, {R, 100}, {D4, 250}, {R, 100}, {Cs4, 250}, {R, 200},
    
    // B-G - C# - A(high) - F# C(low) B(low)
    {B3, 250}, {R, 100}, {G4, 250}, {R, 100}, {Cs5, 250}, {R, 100}, {A5, 250}, {R, 100}, 
    {Fs5, 250}, {R, 100}, {C3, 250}, {R, 100}, {B2, 250}, {R, 200},
    
    // F - D - B - EEE
    {F4, 250}, {R, 100}, {D4, 250}, {R, 100}, {B3, 250}, {R, 150},
    {E4, 150}, {R, 50}, {E4, 150}, {R, 50}, {E4, 150}, {R, 200},
    
    // A# - B -C# - D - F# - A
    {As4, 250}, {R, 100}, {B4, 250}, {R, 100}, {Cs5, 250}, {R, 100}, {D5, 250}, {R, 100}, 
    {Fs5, 250}, {R, 100}, {A5, 250}, {R, 200},
    
    // A-A# - B - A# - B
    {A4, 250}, {R, 100}, {As4, 250}, {R, 100}, {B4, 250}, {R, 100}, {As4, 250}, {R, 100}, {B4, 250}, {R, 200},
    
    // A-A# - B F#(high) C# B - A# - B
    {A4, 250}, {R, 100}, {As4, 250}, {R, 100}, {B4, 250}, {R, 100}, {Fs5, 250}, {R, 100}, 
    {Cs5, 250}, {R, 100}, {B4, 250}, {R, 100}, {As4, 250}, {R, 100}, {B4, 250}, {R, 200},
    
    // B-C-C# - C - C#, C#-C-C#
    {B4, 250}, {R, 100}, {C5, 250}, {R, 100}, {Cs5, 250}, {R, 100}, {C5, 250}, {R, 100}, {Cs5, 250}, {R, 150}, 
    {Cs5, 250}, {R, 100}, {C5, 250}, {R, 100}, {Cs5, 250}, {R, 200},
    
    // G#(high) D# - C# - D# - B(low)
    {Gs5, 250}, {R, 100}, {Ds5, 250}, {R, 100}, {Cs5, 250}, {R, 100}, {Ds5, 250}, {R, 100}, {B3, 250}, {R, 200},
    
    // C# - D - A(high) - D(low) - EEE
    {Cs5, 250}, {R, 100}, {D5, 250}, {R, 100}, {A5, 250}, {R, 100}, {D4, 250}, {R, 150},
    {E4, 150}, {R, 50}, {E4, 150}, {R, 50}, {E4, 150}, {R, 200},
    
    // End note
    {R, 750}
};


static Note starwars_theme[] = {
    // Opening phrase
    {A4, 500}, {A4, 500}, {A4, 500}, 
    {F4, 375}, {C5, 125}, 
    {A4, 500}, {F4, 375}, {C5, 125}, {A4, 1000}, 
    {E5, 500}, {E5, 500}, {E5, 500}, 
    {F5, 375}, {C5, 125},
    
    // Next phrase
    {G4, 500}, {F4, 375}, {C5, 125}, {A4, 1000}, 
    {A5, 500}, {A4, 375}, {A4, 125}, 
    {A5, 500}, {G5, 375}, {F5, 125}, {E5, 125}, {D5, 125}, 
    {C5, 250}, {B4, 250}, {A4, 500},

    // End note
    {R, 500}
};


static Note battlefield_1942_theme[] = {
    // Attempt at the opening part of the Battlefield 1942 theme
    {E4, 500}, {G4, 500}, {B4, 300}, {E5, 200}, 
    {D5, 200}, {B4, 300}, {G4, 500}, {B4, 300}, 
    {E5, 200}, {D5, 200}, {B4, 300}, {G4, 500}, 
    {B4, 300}, {E5, 200}, {G5, 200}, {E5, 300}, 

    // Continue with the next part of the melody
    {D5, 200}, {B4, 300}, {G4, 500}, {E4, 500}, 
    {G4, 500}, {B4, 300}, {E5, 200}, {D5, 200}, 
    {B4, 300}, {G4, 500}, {B4, 300}, {E5, 200}, 
    {D5, 200}, {B4, 300}, {G4, 500}, {B4, 300}, 
    {E5, 200}, {G5, 200}, {E5, 300}, {D5, 200}, 
    {B4, 300}, {G4, 500}, 

    // Repeat or modify as needed
    // ...

    // End note
    {R, 500}
};


static Note music_2[] = {
    {A4, 200}, {E5, 200}, {A5, 200}, {R, 100}, {A5, 200}, {A5, 200}, {Gs5, 200}, {A5, 200},
    {R, 100}, {E5, 200}, {R, 100}, {E5, 200}, {R, 100}, {E5, 200}, {R, 100}, {E5, 200},
    {A4, 200}, {E5, 200}, {A5, 200}, {R, 100}, {A5, 200}, {A5, 200}, {Gs5, 200}, {A5, 200},
    {R, 100}, {E5, 200}, {R, 100}, {E5, 200}, {R, 100}, {E5, 200}, {R, 100}, {E5, 200},
    {A4, 200}, {E5, 200}, {A5, 200}, {R, 100}, {A5, 200}, {A5, 200}, {Gs5, 200}, {A5, 200},
    {R, 100}, {E5, 200}, {R, 100}, {E5, 200}, {R, 100}, {E5, 200}, {R, 100}, {E5, 200}
};

static Note music_3[] = {
    {E4, 200}, {E4, 200}, {F4, 200}, {G4, 200}, {G4, 200}, {F4, 200}, {E4, 200}, {D4, 200},
    {C4, 200}, {C4, 200}, {D4, 200}, {E4, 200}, {E4, 400}, {R, 200},
    {D4, 200}, {D4, 200}, {E4, 200}, {F4, 200}, {F4, 200}, {E4, 200}, {D4, 200}, {C4, 200},
    {A4, 200}, {A4, 200}, {A4, 200}, {G4, 400}
};

static Note music_4[] = {
    {C4, 500}, {D4, 500}, {E4, 500}, {C4, 500},
    {C4, 500}, {D4, 500}, {E4, 500}, {C4, 500},
    {E4, 500}, {F4, 500}, {G4, 1000},
    {E4, 500}, {F4, 500}, {G4, 1000},
    {G4, 250}, {A4, 250}, {G4, 250}, {F4, 250}, {E4, 500}, {C4, 500},
    {G4, 250}, {A4, 250}, {G4, 250}, {F4, 250}, {E4, 500}, {C4, 500},
    {C4, 500}, {G3, 500}, {C4, 1000},
    {C4, 500}, {G3, 500}, {C4, 1000}
};

static Note music_5[] = {
    {E4, 375}, {C4, 375}, {D4, 375}, {A3, 375}, {B3, 375}, {D4, 375}, {C4, 375}, {A3, 375},
    {E4, 375}, {C4, 375}, {D4, 375}, {A3, 375}, {B3, 375}, {D4, 375}, {C4, 375}, {A3, 375},
};

static Note music_6[] = {
    {F4, 250}, {F4, 250}, {F4, 250}, {C5, 250}, {As4, 250}, {Gs4, 250}, {F4, 500},
    {F4, 250}, {F4, 250}, {F4, 250}, {C5, 250}, {As4, 250}, {Gs4, 250}, {F4, 500},
    {As4, 250}, {As4, 250}, {As4, 250}, {F5, 250}, {D5, 250}, {C5, 250}, {As4, 500},
    {As4, 250}, {As4, 250}, {As4, 250}, {F5, 250}, {D5, 250}, {C5, 250}, {As4, 500},
};

#endif
